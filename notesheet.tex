\documentclass[8pt]{article}
\usepackage{multicol}
\usepackage[margin=0.5in]{geometry}
\paperwidth=8.5in
\paperheight=11in
\begin{document}
\begin{multicols}{3}
Emily Dunham\\
ECE375 Midterm 1 Notesheet

\line(1,0){150}

Four dimensions of instruction sets:                                            
                                                                                
* Operations provided in the instruction set.                                   
                                                                                
* Number of explicit operands named per instruction.                            
                                                                                
* Location of the operands in the CPU and how                                   
  operand locations are specified.                                              
                                                                                  
  * Type and size of operand                                                      
                                                                                  
  Categories of Instructions                                                      
  1) data transfer                                                                
  2) arithmetic                                                                   
  3) logical                                                                      
  4) control transfer                                                             
  5) I/O                                                                          
  6) system                                                                       
  7) floating point                                                               
  8) decimal                                                                      
  9) string 

\line(1,0){150}

"Store Accumulator Indirect with Pre-Decrement"

STA -(x) ; M(x) <- M(x)-1, M(M(x)) <- AC,

on the class cpu but with temporary register TEMP. An instruction consists of
16 bits: A 4-bit operation code and a 12-bit address. All operands are 16
bits. PC and MAR each contain 12 bits. AC, MDR, and TEMP each contain 16 bits,
and IR is 4 bits. Give the sequence of microoperations required to implement
the Execute cycles for the above STA -(x) instruction. Your solution should
result in minimum number of microoperations. Assume PC is currently pointing 
to the STA instruction and only PC and AC have the capability to 
increment/decrement itself. 

\begin{verbatim}
Fetch Cycle
1: MAR <- PC;
2: MDR <- M(MAR), PC <- PC+1
3: IR <- MDRopc, MAR<- MDRadr 
; Read inst. & increment PC
\end{verbatim}

\begin{verbatim}
Execute Cycle
Step 1: MDR <- M(MAR) 
; Get EA+1 from mem (i.e., M(x))
2: TEMP <- AC ; Save AC to TEMP
3: AC <- MDR ; Decrement EA+1
4: AC <- AC -1
5: MDR <- AC ; Store EA into M(x)
6: M(MAR) <- MDR
7: AC <- TEMP ; Restore AC
8: MAR <- MDR ; point MAR to EA
9: MDR <- AC 
; Store AC into M(M(x))=M(EA)
Step 10: M(MAR) <- MDR
; Note that you can also perform 
; steps 1-2 and 6-7 simultaneously.
\end{verbatim}


Consider the internal structure of a pseudo-CPU discussed in class. Suppose
the pseudo-CPU can be used to implement the hypothetical instructions given
below (Actually, these are instructions from PDP-8, which is the first
commercially successful minicomputer from the 60s). Give the sequence of
microoperations required to implement the Fetch and Execute cycle for each of
the instructions shown below. Your solution should result in minimum number of
microoperations. Assume PC is currently pointing to the instruction and only
PC and AC have the capability to increment itself.

(a) Logical AND: AND Y ; AC <- AC + M(Y)

(b) Increment and skip if zero: 
ISZ Y ; M(Y) <- M(Y) + 1, If(M(Y)+1=0) Then PC <- PC +1

(c) Deposit and clear the accumulator: DCA
Y ; M(Y) <- AC, AC <- 0

(d) Jump to subroutine: JMS Y ; M(Y) <- PC, PC <- Y + 1

\begin{verbatim}
Fetch Cycle
1: MAR <- PC
2: MDR <- M(MAR), PC <- PC+1
3: IR <- MDRopc, MAR <- MDRadr
4: Goto Execute cycle
AND Y ; AC <- AC + M(Y)
Execute Cycle
1: MDR <- M(MAR)
2: AC <- AC + MDR
3: Goto Fetch cycle
\end{verbatim}



\end{multicols}
\end{document}
